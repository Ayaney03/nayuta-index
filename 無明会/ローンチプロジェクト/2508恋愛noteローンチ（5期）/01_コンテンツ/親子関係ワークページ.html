<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>恋愛パターン改善ワーク - 結婚と親との関係</title>
    
    <style>
        /* 基本フォント設定 */
        body {
            font-family: 'Hiragino Mincho ProN', 'Hiragino Mincho Pro', 'Yu Mincho', 'YuMincho', 'MS PMincho', 'Noto Serif JP', serif;
            font-size: 16px;
            line-height: 1.7;
            color: #1a202c;
            font-feature-settings: 'palt';
            letter-spacing: 0.03em;
            margin: 0;
            padding: 0;
            background: var(--background-cream);
            position: relative;
        }

        /* カラーパレット */
        :root {
            --primary-gold: #d4af37;
            --dark-gold: #8b6914;
            --brown-base: #8b7355;
            --brown-dark: #6b5b47;
            --light-gold: #f5e6a3;
            --text-dark: #2d3748;
            --background-cream: #f8f6f3;
            --background-light: #ede8dc;
            --accent-brown: #8b4513;
            --pink-accent: #ec4899;
            --cream: #fff8dc;
            --shadow-gold: rgba(139, 105, 20, 0.25);
        }

        /* メインコンテナ */
        .main-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px 16px;
            min-height: 100vh;
        }

        /* ヒーローセクション */
        .hero-section {
            background: linear-gradient(135deg, var(--brown-base) 0%, var(--brown-dark) 100%);
            padding: 32px 24px;
            border-radius: 16px;
            text-align: center;
            color: #f7fafc;
            margin-bottom: 32px;
            box-shadow: 0 8px 32px rgba(139, 115, 85, 0.3);
        }

        .hero-title {
            font-size: 28px;
            font-weight: bold;
            margin-bottom: 12px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .hero-subtitle {
            font-size: 16px;
            opacity: 0.95;
            margin-bottom: 8px;
        }

        /* セクション基本スタイル */
        .section {
            padding: 32px 0;
            margin-bottom: 24px;
            border-bottom: 1px solid rgba(212, 175, 55, 0.3);
        }

        .section-title {
            font-size: 22px;
            font-weight: bold;
            color: var(--dark-gold);
            margin-bottom: 24px;
            padding-bottom: 8px;
        }

        /* 音声セクション */
        .video-section {
            text-align: center;
            margin-bottom: 32px;
        }

        .video-container {
            background: var(--background-light);
            border-radius: 12px;
            padding: 20px;
            border: 1px solid rgba(212, 175, 55, 0.2);
        }

        .video-title {
            font-size: 20px;
            font-weight: bold;
            color: var(--dark-gold);
            margin-bottom: 16px;
        }

        .video-url {
            display: inline-block;
            padding: 12px 24px;
            background: var(--primary-gold);
            color: white;
            text-decoration: none;
            border-radius: 8px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .video-url:hover {
            background: var(--dark-gold);
            transform: translateY(-2px);
        }

        /* ポイントカード */
        .point-card {
            padding: 20px 0;
            margin: 20px 0;
            border-left: 3px solid var(--primary-gold);
            padding-left: 20px;
        }

        .point-title {
            font-size: 18px;
            font-weight: bold;
            color: var(--dark-gold);
            margin-bottom: 12px;
        }

        /* リスト */
        .key-points {
            list-style: none;
            padding: 0;
            margin-left: 0;
        }

        .key-points li {
            margin: 8px 0;
            padding: 8px 0;
            border-bottom: 1px solid rgba(212, 175, 55, 0.2);
            color: var(--text-dark);
        }

        .key-points li:before {
            content: "・";
            color: var(--primary-gold);
            font-weight: bold;
            margin-right: 8px;
        }

        /* ワークセクション */
        .work-section {
            padding: 32px 0;
            border-top: 2px solid var(--primary-gold);
            border-bottom: 2px solid var(--primary-gold);
            margin: 40px 0;
        }

        .work-item {
            padding: 24px 0;
            margin: 20px 0;
            border-bottom: 1px solid rgba(212, 175, 55, 0.3);
        }

        .work-item:last-child {
            border-bottom: none;
        }

        .work-number {
            font-size: 18px;
            font-weight: bold;
            color: var(--dark-gold);
            margin-bottom: 12px;
        }

        .work-description {
            color: var(--text-dark);
            line-height: 1.7;
            font-size: 15px;
            margin-bottom: 20px;
        }

        /* 入力欄スタイル */
        .input-area {
            background: var(--background-light);
            border: 2px solid rgba(212, 175, 55, 0.3);
            border-radius: 8px;
            padding: 16px;
            margin-top: 16px;
        }

        .input-label {
            font-size: 14px;
            font-weight: bold;
            color: var(--dark-gold);
            margin-bottom: 8px;
            display: block;
        }

        .work-textarea {
            width: 100%;
            min-height: 120px;
            padding: 12px;
            border: 1px solid rgba(212, 175, 55, 0.5);
            border-radius: 6px;
            font-family: inherit;
            font-size: 14px;
            line-height: 1.6;
            resize: vertical;
            background: white;
            transition: border-color 0.3s ease;
            box-sizing: border-box;
        }

        .work-textarea:focus {
            outline: none;
            border-color: var(--primary-gold);
            box-shadow: 0 0 0 2px rgba(212, 175, 55, 0.2);
        }

        .work-textarea::placeholder {
            color: #999;
            font-style: italic;
        }

        /* 強調テキスト */
        .highlight {
            background: linear-gradient(transparent 60%, var(--light-gold) 60%);
            font-weight: bold;
            padding: 2px 4px;
        }

        .important-note {
            background: var(--background-light);
            border-left: 4px solid var(--primary-gold);
            padding: 20px;
            margin: 24px 0;
            font-weight: bold;
            color: var(--dark-gold);
            font-size: 16px;
            line-height: 1.7;
        }

        /* アップロードセクション */
        .upload-section {
            background: linear-gradient(135deg, rgba(139, 105, 20, 0.1) 0%, rgba(212, 175, 55, 0.1) 100%);
            border: 2px solid var(--primary-gold);
            text-align: center;
        }

        .upload-instruction {
            font-size: 18px;
            font-weight: bold;
            color: var(--dark-gold);
            margin-bottom: 16px;
        }

        .upload-note {
            color: var(--text-dark);
            font-size: 14px;
            margin-top: 12px;
        }

        /* トップに戻るボタン */
        .back-to-top {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, var(--primary-gold) 0%, var(--dark-gold) 100%);
            color: white;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 24px;
            text-decoration: none;
            box-shadow: 0 6px 20px rgba(139, 105, 20, 0.3);
            transition: all 0.3s ease;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transform: translateY(20px);
        }

        .back-to-top.visible {
            opacity: 1;
            visibility: visible;
            transform: translateY(0);
        }

        .back-to-top:hover {
            transform: translateY(-5px) scale(1.1);
            box-shadow: 0 8px 25px rgba(139, 105, 20, 0.4);
            background: linear-gradient(135deg, var(--dark-gold) 0%, var(--primary-gold) 100%);
        }

        .back-to-top:active {
            transform: translateY(-2px) scale(1.05);
        }

        /* アニメーション */
        @keyframes fadeInUp {
            0% {
                opacity: 0;
                transform: translateY(30px);
            }
            100% {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .fade-in {
            animation: fadeInUp 0.8s ease-out;
        }

        /* フッタースタイル */
        .footer-section {
            background: linear-gradient(135deg, var(--brown-dark) 0%, #2d3748 100%);
            color: #f7fafc;
            padding: 48px 0 24px 0;
            margin-top: 48px;
        }

        .footer-container {
            max-width: 800px;
            margin: 0 auto;
            padding: 0 20px;
        }

        .footer-content {
            text-align: center;
            margin-bottom: 32px;
        }

        .footer-message {
            margin-bottom: 32px;
        }

        .footer-title {
            font-size: clamp(20px, 4vw, 28px);
            font-weight: 600;
            color: var(--light-gold);
            margin-bottom: 16px;
            line-height: 1.4;
        }

        .footer-text {
            font-size: 16px;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.9);
            margin: 0;
        }

        .footer-back-to-top {
            margin-bottom: 24px;
        }

        .footer-top-button {
            display: inline-block;
            background: rgba(212, 175, 55, 0.2);
            color: var(--light-gold);
            padding: 12px 32px;
            border: 2px solid var(--light-gold);
            border-radius: 25px;
            text-decoration: none;
            font-weight: 600;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .footer-top-button:hover {
            background: var(--light-gold);
            color: var(--brown-dark);
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(245, 230, 163, 0.3);
        }

        .footer-copyright {
            text-align: center;
            padding-top: 24px;
            border-top: 1px solid rgba(245, 230, 163, 0.2);
        }

        .footer-copyright p {
            color: rgba(255, 255, 255, 0.6);
            font-size: 14px;
            margin: 0;
        }

        /* レスポンシブ対応 */
        @media (max-width: 600px) {
            .main-container {
                padding: 16px 12px;
            }
            
            .hero-title {
                font-size: 24px;
            }
            
            .section {
                padding: 16px;
            }

            .back-to-top {
                bottom: 20px;
                right: 20px;
                width: 50px;
                height: 50px;
                font-size: 20px;
            }

            .footer-section {
                padding: 32px 0 20px 0;
                margin-top: 32px;
            }

            .footer-container {
                padding: 0 16px;
            }

            .footer-title {
                font-size: clamp(18px, 4vw, 24px);
                margin-bottom: 12px;
            }

            .footer-text {
                font-size: 14px;
                line-height: 1.7;
            }

            .footer-top-button {
                padding: 10px 24px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <!-- ヒーローセクション -->
        <div class="hero-section fade-in">
            <h1 class="hero-title">恋愛パターン改善ワーク</h1>
            <p class="hero-subtitle">結婚と親との関係 - 実践ガイド</p>
            <p class="hero-subtitle">〜責任を取れる大人として、幸せな恋愛関係を築く〜</p>
        </div>

        <!-- 動画セクション -->
        <div class="video-section fade-in">
            <div class="video-container">

                <div style="position: relative; width: 100%; height: 0; padding-bottom: 56.25%; margin: 20px 0;">
                    <iframe 
                        src="https://www.youtube.com/embed/yoZuK1cJ_c8" 
                        style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border: none; border-radius: 8px;"
                        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" 
                        allowfullscreen>
                    </iframe>
                </div>
                <p style="text-align: center; margin-top: 12px; color: #666; font-size: 14px;">
                    音声を聞いてから、以下のワークに取り組んでください<br>
                    <small>※画面は黒いですが、重要な音声コンテンツです</small>
                </p>
            </div>
        </div>

        <!-- 実践ワーク -->
        <div class="section work-section fade-in">
            <h2 class="section-title">📝 実践ワーク</h2>
            
            <div class="work-item fade-in">
                <div class="work-number">ワーク① 音声を聞いて感じたこと</div>
                <div class="work-description">
                    音声コンテンツを聞いて自分の親子関係について感じたことを正直に書き出してください。<br>
                    特に「責任を取ってもらおう」としていた場面があれば、具体的に振り返ってみましょう。
                </div>
                <div class="input-area">
                    <label class="input-label">💭 あなたの気づきを書いてください</label>
                    <textarea 
                        id="work1" 
                        class="work-textarea" 
                        placeholder="音声を聞いて親子関係について感じたことを正直に書いてください... 例：親に○○してもらおうとしていた、××の場面で責任を取ってもらおうとしていた、など"
                        oninput="updateShareContent()">
                    </textarea>
                </div>
            </div>

            <div class="work-item fade-in">
                <div class="work-number">ワーク② 親との理想の関係はどんな関係か？</div>
                <div class="work-description">
                    これまで親に期待していることと、自分が本当に作りたい関係性を明確にしてください。<br>
                    「親がこうしてくれれば」から「自分がこうする」への転換を意識して書いてみましょう。
                </div>
                <div class="input-area">
                    <label class="input-label">🎯 理想の関係性とそのために自分ができること</label>
                    <textarea 
                        id="work2" 
                        class="work-textarea" 
                        placeholder="親との理想の関係と、それを実現するために自分がどう行動するかを書いてください... 例：○○な関係を築きたい。そのために自分は××する、など"
                        oninput="updateShareContent()">
                    </textarea>
                </div>
            </div>

            <div class="work-item fade-in">
                <div class="work-number">ワーク③ それを叶えるためにどうするか？</div>
                <div class="work-description">
                    本当の気持ちを伝える準備をしてください。<br>
                    • 感謝と不満を両方表現する具体的な方法<br>
                    • 自分がリーダーとして関係を築く具体的ステップ<br>
                    • まず最初に取り組むべき小さな行動
                </div>
                <div class="input-area">
                    <label class="input-label">🚀 具体的なアクションプラン</label>
                    <textarea 
                        id="work3" 
                        class="work-textarea" 
                        placeholder="具体的に何をするか書いてください... 例：まず親に○○と伝える、××の場面で△△する、など"
                        oninput="updateShareContent()">
                    </textarea>
                </div>
            </div>
        </div>

        <!-- アウトプットセクション -->
        <div class="fade-in" style="margin: 40px 0; padding: 24px 0;">
            <h2 style="font-size: 22px; font-weight: bold; color: var(--dark-gold); margin-bottom: 20px; text-align: center;">
                📢 アウトプット
            </h2>
            
            <p style="font-size: 16px; line-height: 1.7; color: var(--text-dark); margin-bottom: 24px; text-align: center;">
                このワークで得た気づきを、ぜひSNSでシェアしてください
            </p>
            
            <!-- 動的に生成されるシェア内容プレビュー -->
            <div id="sharePreview" style="background: var(--background-light); padding: 20px; border-radius: 8px; margin: 24px 0; border: 2px solid rgba(212, 175, 55, 0.3); display: none;">
                <p style="font-size: 15px; font-weight: bold; color: var(--dark-gold); margin-bottom: 12px;">あなたのシェア内容：</p>
                <div id="shareText" style="font-size: 14px; line-height: 1.6; color: var(--text-dark); white-space: pre-line; min-height: 60px; padding: 12px; background: white; border-radius: 4px;"></div>
                <p style="font-size: 12px; color: #666; margin-top: 8px; text-align: center;">※上記の内容でシェアボタンを押すとツイートできます</p>
            </div>
            
            <div style="text-align: center; margin: 32px 0;">
                <a id="shareButton" href="#" target="_blank" 
                   style="display: inline-block; padding: 16px 32px; background: var(--primary-gold); color: white; 
                          text-decoration: none; border-radius: 8px; font-weight: bold; font-size: 16px;
                          transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(139, 105, 20, 0.3);"
                   onmouseover="this.style.background='var(--dark-gold)'; this.style.transform='translateY(-2px)'"
                   onmouseout="this.style.background='var(--primary-gold)'; this.style.transform='translateY(0)'">
                    <span id="shareButtonText">タップで感想をシェア</span>
                </a>
            </div>
            
            <div style="background: var(--background-light); padding: 20px; border-radius: 8px; margin: 24px 0;">
                <p style="font-size: 15px; font-weight: bold; color: var(--dark-gold); margin-bottom: 12px;">シェア例：</p>
                <p style="font-size: 14px; line-height: 1.6; color: var(--text-dark); font-style: italic;">
                    「『親の全部を好きじゃなくていい』という言葉で許された感覚がありました。<br>
                    他人との関係で自分が我慢した方が早いという諦めを持っていたけど、<br>
                    背後には『どうせ自分のことなんか』と自分を小さくしていることも観測できました。<br>
                    不足しているのは嫌なことを嫌と言う勇気だと気づいたので、<br>
                    まずは親に正直な気持ちを伝えてみます。」
                </p>
            </div>
            
            <p style="font-size: 14px; color: var(--text-dark); text-align: center; opacity: 0.8;">
                あなたの体験談が、他の誰かの勇気と希望になります
            </p>
        </div>

        <!-- 核心メッセージ -->
        <div class="section fade-in">
            <h2 class="section-title">💡 核心メッセージ</h2>
            <div class="important-note">
                <span class="highlight">親子関係で責任を取らない人は、パートナーとの関係でも責任を取れない</span>
            </div>
        </div>

        <!-- 主要な問題点 -->
        <div class="section fade-in">
            <h2 class="section-title">🔍 主要な問題点</h2>
            
            <div class="point-card">
                <div class="point-title">1. 甘えの構造</div>
                <ul class="key-points">
                    <li>子供は親に責任を取ってもらおうとする（取ろうとしない）</li>
                    <li>「理想の関係を親が作れ」という甘えがある</li>
                    <li>結婚相手に対しても「私を気持ちよくさせなさい」という態度として現れる</li>
                </ul>
            </div>

            <div class="point-card">
                <div class="point-title">2. 与えられ待ちの関係性</div>
                <ul class="key-points">
                    <li>いつも与えられるのを待っている状態</li>
                    <li>責任を取らない同士がくっつく</li>
                    <li>関係が浅い時は良いが、深くなると頼りなくなって嫌になる</li>
                </ul>
            </div>

            <div class="point-card">
                <div class="point-title">3. 見たくないものからの逃避</div>
                <ul class="key-points">
                    <li>「親と仲良いから大丈夫」と言う人ほど要注意</li>
                    <li>うまく説明しようとして本当の気持ちを隠している</li>
                    <li>表面的な「仲良し」で済ませている</li>
                </ul>
            </div>
        </div>

        <!-- 解決の方向性 -->
        <div class="section fade-in">
            <h2 class="section-title">✨ 解決の方向性</h2>
            
            <div class="point-card">
                <div class="point-title">1. 自分がリーダーになる</div>
                <ul class="key-points">
                    <li><strong>親と理想の関係を作るのは自分</strong></li>
                    <li>親のリーダーであるという意識を持つ</li>
                    <li>親に期待しすぎない（「親は産んで終わり」という考え方）</li>
                </ul>
            </div>

            <div class="point-card">
                <div class="point-title">2. 本音をぶつける勇気</div>
                <ul class="key-points">
                    <li>本当に嫌だったことをちゃんと伝える</li>
                    <li>「あなたとの関係を良くしたい」という前提で話す</li>
                    <li>うまく喋ろうとせず、正直な気持ちを表現する</li>
                </ul>
            </div>

            <div class="point-card">
                <div class="point-title">3. 感謝と不満の両立</div>
                <ul class="key-points">
                    <li>育ててくれたことへの感謝</li>
                    <li>同時に嫌いな部分や改善してほしい点も伝える</li>
                    <li>「好きだけど嫌いな部分もある」を受け入れる</li>
                </ul>
            </div>
        </div>

        <!-- 重要な気づき -->
        <div class="section fade-in">
            <h2 class="section-title">🌟 重要な気づき</h2>
            <div class="important-note">
                「親もまた、自分と同じように完璧ではない人間である」<br>
                親だけが大人になれると期待するのではなく、自分が先に責任を取れる大人になることで、<br>
                家族全体の関係性が変化していきます。
            </div>
        </div>

        <!-- 入会促進セクション -->
        <div class="fade-in" style="margin: 48px 0; padding: 32px 0; border-top: 2px solid var(--primary-gold); text-align: center;">
            <h3 style="font-size: 20px; font-weight: bold; margin-bottom: 16px; color: var(--dark-gold);">
                🌟 もっと深く学びたい方へ
            </h3>
            <p style="font-size: 16px; line-height: 1.7; margin-bottom: 24px; color: var(--text-dark);">
                このようなワークを定期的に行い、同じ志を持つ仲間と共に<br>
                本質的な成長を続けられるのが「無明会」です
            </p>
            <div style="background: var(--background-light); padding: 20px; margin: 24px 0; border-left: 3px solid var(--primary-gold);">
                <p style="font-size: 15px; margin: 0; line-height: 1.6; color: var(--text-dark);">
                    ✓ 月1回のオフライン交流会<br>
                    ✓ 実践的な人生改善ワーク<br>
                    ✓ 同じ悩みを持つ仲間との深いつながり
                </p>
            </div>
            <p style="font-size: 14px; color: var(--dark-gold); font-weight: bold; margin: 24px 0 8px 0; text-align: center;">
                ⚠️ 期間限定公開
            </p>
            <p style="font-size: 13px; color: #dc2626; font-weight: bold; margin: 0 0 12px 0; text-align: center;">
                募集停止すると公開終了します
            </p>
            <div style="margin: 16px 0;">
                <a href="https://ne0ne.com/mn08lp" target="_blank" 
                   style="display: inline-block; padding: 16px 32px; background: var(--brown-base); color: white; 
                          text-decoration: none; border-radius: 8px; font-weight: bold; font-size: 16px;
                          transition: all 0.3s ease; box-shadow: 0 4px 12px rgba(139, 115, 85, 0.3);"
                   onmouseover="this.style.background='var(--brown-dark)'; this.style.transform='translateY(-2px)'"
                   onmouseout="this.style.background='var(--brown-base)'; this.style.transform='translateY(0)'">
                    無明会の詳細を見る
                </a>
            </div>
        </div>

    </div>

    <!-- フッター -->
    <footer class="footer-section">
        <div class="footer-container">
            <!-- フッターコンテンツ -->
            <div class="footer-content">
                <div class="footer-message">
                    <h3 class="footer-title">あなたの人生を変える旅は、今始まります</h3>
                    <p class="footer-text">
                        親子関係の改善から始まる、真の恋愛関係の構築へ。<br>
                        無明会があなたの人生変革をサポートします。
                    </p>
                </div>
                
                <!-- トップに戻るボタン（フッター内） -->
                <div class="footer-back-to-top">
                    <a href="#" class="footer-top-button" id="footerBackToTop">
                        ↑ ページの先頭に戻る
                    </a>
                </div>
            </div>
            
            <!-- コピーライト -->
            <div class="footer-copyright">
                <p>&copy; 2025 無明会. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <!-- トップに戻るボタン -->
    <a href="#" class="back-to-top" id="backToTop">
        ↑
    </a>

    <script>
        // シェア内容の更新機能
        function updateShareContent() {
            const work1 = document.getElementById('work1').value.trim();
            const work2 = document.getElementById('work2').value.trim();
            const work3 = document.getElementById('work3').value.trim();
            
            const sharePreview = document.getElementById('sharePreview');
            const shareText = document.getElementById('shareText');
            const shareButton = document.getElementById('shareButton');
            const shareButtonText = document.getElementById('shareButtonText');
            
            // 何かしら入力があった場合
            if (work1 || work2 || work3) {
                let content = '親子関係ワークをやってみました✨\n\n';
                
                if (work1) {
                    content += '【感じたこと】\n' + work1 + '\n\n';
                }
                if (work2) {
                    content += '【理想の関係】\n' + work2 + '\n\n';
                }
                if (work3) {
                    content += '【具体的行動】\n' + work3 + '\n\n';
                }
                
                content += '#無明会 #恋愛note #親子関係 #自己成長';
                
                // プレビュー表示
                shareText.textContent = content;
                sharePreview.style.display = 'block';
                
                // シェアボタンのリンクを更新
                const encodedText = encodeURIComponent(content);
                shareButton.href = `https://twitter.com/intent/tweet?text=${encodedText}&url=https://ne0ne.com/mn08x`;
                shareButtonText.textContent = 'あなたの内容でシェア';
            } else {
                // 入力がない場合は非表示
                sharePreview.style.display = 'none';
                shareButton.href = 'https://ne0ne.com//mn08x';
                shareButtonText.textContent = 'タップで感想をシェア';
            }
        }

        // トップに戻るボタンの制御
        function initBackToTop() {
            const backToTop = document.getElementById('backToTop');
            
            // スクロール時の表示/非表示制御
            window.addEventListener('scroll', function() {
                if (window.pageYOffset > 300) {
                    backToTop.classList.add('visible');
                } else {
                    backToTop.classList.remove('visible');
                }
            });
            
            // スムーズスクロール関数
            function scrollToTop(e) {
                e.preventDefault();
                window.scrollTo({
                    top: 0,
                    behavior: 'smooth'
                });
            }
            
            // 固定ボタンのクリックイベント
            backToTop.addEventListener('click', scrollToTop);
            
            // フッター内ボタンのクリックイベント
            const footerBackToTop = document.getElementById('footerBackToTop');
            if (footerBackToTop) {
                footerBackToTop.addEventListener('click', scrollToTop);
            }
        }

        // スクロールアニメーション
        function initScrollAnimations() {
            const animateElements = document.querySelectorAll('.fade-in');
            
            const observer = new IntersectionObserver(function(entries) {
                entries.forEach(function(entry) {
                    if (entry.isIntersecting) {
                        entry.target.style.opacity = '1';
                        entry.target.style.transform = 'translateY(0)';
                    }
                });
            }, {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            });
            
            animateElements.forEach(function(element) {
                element.style.opacity = '0';
                element.style.transform = 'translateY(30px)';
                element.style.transition = 'opacity 0.8s ease-out, transform 0.8s ease-out';
                observer.observe(element);
            });
        }

        // ページ読み込み完了後に初期化
        document.addEventListener('DOMContentLoaded', function() {
            initBackToTop();
            initScrollAnimations();
            
            // 入力欄の初期化（ローカルストレージから復元）
            const work1 = localStorage.getItem('parentWorksheet_work1');
            const work2 = localStorage.getItem('parentWorksheet_work2');
            const work3 = localStorage.getItem('parentWorksheet_work3');
            
            if (work1) document.getElementById('work1').value = work1;
            if (work2) document.getElementById('work2').value = work2;
            if (work3) document.getElementById('work3').value = work3;
            
            // 初期状態でシェア内容を更新
            updateShareContent();
            
            // 入力内容の自動保存
            ['work1', 'work2', 'work3'].forEach(id => {
                document.getElementById(id).addEventListener('input', function() {
                    localStorage.setItem(`parentWorksheet_${id}`, this.value);
                });
            });
        });
    </script>
</body>
</html>