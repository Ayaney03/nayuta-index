// 現在の会員種別マッピングデータ
const currentMemberStatusMapping = [
    '退会',     // M001 藤澤秀彰
    '体験終了', // M002 鈴木裕介
    '年間',     // M003 福井康大
    '年間',     // M004 俵健太郎
    '通常',     // M005 進藤勇輝
    '体験終了', // M006 佐藤諒駿
    '通常',     // M007 杉平涼
    '退会',     // M008 松本和久
    '通常',     // M009 松田陽平
    '退会',     // M010 井上純也
    '退会',     // M011 根塚陽己
    '年間',     // M012 藤原綜太郎
    '体験終了', // M013 石島秀峰
    '年間',     // M014 佐藤亜美
    '退会',     // M015 塚本真伍
    '退会',     // M016 湊翔太郎
    '退会',     // M017 鈴木菜摘
    '体験終了', // M018 松島徹
    '退会',     // M019 粟津律子
    '体験終了', // M020 榎本高也
    '通常',     // M021 石垣吉規
    '退会',     // M022 ブル
    '年間',     // M023 鈴木康太
    '通常',     // M024 奥村拓哉
    '通常',     // M025 池本湊了汰
    '年間',     // M026 松本竜季
    '体験終了', // M027 西島颯人
    '体験終了', // M028 山縣誠二
    '体験終了', // M029 綿貫桂太
    '通常',     // M030 清水暁
    '退会',     // M031 中村意央里
    '体験終了', // M032 島守勇次
    '通常',     // M033 千吉良俊充
    '退会',     // M034 岩下未誉子
    '体験終了', // M035 安田滉一
    '体験終了', // M036 真木智之
    '退会',     // M037 吉嵜俊一郎
    '体験終了', // M038 今井一真
    '退会',     // M039 平野理絵
    '体験終了', // M040 内田泰文
    '体験終了', // M041 増田凌一
    '体験終了', // M042 新保友望奈
    '体験終了', // M043 市川佳奈
    '年間',     // M044 渡邉智大
    '体験終了', // M045 泉田祐輝
    '体験終了', // M046 永井克幸
    '体験終了', // M047 茂木一幸
    '体験終了', // M048 松田圭右
    '通常',     // M049 松村遼河
    '体験終了', // M050 平岩遼志
    '退会',     // M051 佐藤一気
    '体験終了', // M052 照井紀臣
    '体験終了', // M053 坂詰宣人
    '年間',     // M054 中悠太
    '通常',     // M055 小林千泰
    '退会',     // M056 廣田一敬
    '通常',     // M057 鈴木智弘
    '通常',     // M058 小島啓輔
    '年間',     // M059 尾崎勇哉
    '通常',     // M060 佐々木透
    '退会',     // M061 小林和貴
    '通常',     // M062 日高悠河
    '年間',     // M063 江口達宏
    '年間',     // M064 東出教若
    '退会',     // M065 出田竜也
    '体験終了', // M066 長田一
    '通常',     // M067 市橋慎士
    '年間',     // M068 今井奎介
    '通常',     // M069 中西航平
    '通常',     // M070 熊谷瑞奈美
    '退会',     // M071 内野真子
    '通常',     // M072 稲垣真裕
    '年間',     // M073 清田宇宙
    '通常',     // M074 猪野倫哉
    '退会',     // M075 松垣友
    '体験終了', // M076 篠崎弘多
    '通常',     // M077 市村智
    '年間',     // M078 今野大輔
    '年間',     // M079 巾崎由紀子
    '通常',     // M080 籾山銀河
    '通常',     // M081 坂之上颯人
    '退会',     // M082 氏家威吹
    '体験終了', // M083 黒柳朱音
    '体験終了', // M084 国安あずみ
    '退会',     // M085 阪本巳玖也
    '体験終了', // M086 坂本研太朗
    '体験終了', // M087 藤井徹
    '体験終了', // M088 吉岡佑弥
    '体験終了', // M089 佐藤恭平
    '通常',     // M090 小渕桃子
    '体験終了', // M091 森岡裕之
    '体験終了', // M092 遠藤瑛太
    '通常',     // M093 亀井悠
    '退会',     // M094 伊藤英哉
    '通常',     // M095 小杉沙里衣
    '年間',     // M096 薄田京
    '退会',     // M097 淺沼佳那子
    '年間',     // M098 山田大将
    '退会',     // M099 永野福三
    '通常',     // M100 中根滉介
    '年間',     // M101 山田剛
    '体験終了', // M102 田原璃音
    '年間',     // M103 淺利勇斗
    '通常',     // M104 片山裕子
    '退会',     // M105 水林麻里恵
    '通常',     // M106 榎本知佳
    '退会',     // M107 畠田はな
    '退会',     // M108 上村徹雄
    '年間',     // M109 渡邊敦子
    '退会',     // M110 伊藤奏衣
    '退会',     // 片桐瞭
    '通常',     // 渕上哲汰
    '通常',     // 今泉
    '体験終了', // 宮崎弘登
    '体験終了', // その他1
    '通常',     // その他2
    '通常',     // その他3
    '通常',     // その他4
    '体験終了', // その他5
    '通常',     // その他6
    '通常'      // その他7
];

// メンバーデータベースに現在のステータスを更新する関数
function updateMembersWithCurrentStatus(membersDatabase) {
    return membersDatabase.map((member, index) => {
        const currentStatus = currentMemberStatusMapping[index] || '不明';
        
        // ステータスに応じた色を定義
        let statusColor;
        switch(currentStatus) {
            case '年間':
                statusColor = '#d4edda'; // 緑系
                break;
            case '通常':
                statusColor = '#d1ecf1'; // 青系
                break;
            case '体験終了':
                statusColor = '#fff3cd'; // 黄系
                break;
            case '退会':
                statusColor = '#f8d7da'; // 赤系
                break;
            default:
                statusColor = '#e9ecef'; // グレー系
        }

        return {
            ...member,
            currentStatus: currentStatus,
            statusColor: statusColor,
            // アクティブ状態の判定
            isActive: currentStatus === '年間' || currentStatus === '通常'
        };
    });
}

// ステータス別の統計を計算する関数
function calculateStatusStats(membersDatabase) {
    const stats = {
        年間: 0,
        通常: 0,
        体験終了: 0,
        退会: 0,
        不明: 0
    };

    membersDatabase.forEach(member => {
        const status = member.currentStatus || '不明';
        stats[status] = (stats[status] || 0) + 1;
    });

    return stats;
}

console.log('Current member status mapping loaded. Use updateMembersWithCurrentStatus() to apply.');
